<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Women's Day</title>
    <link type="image/png" rel="icon" href="rose-96.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Lora:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --color-primary: #ff6f91;
        --color-secondary: #4a7043;
        --color-accent: #d8bfd8;
        --color-background: #ffe4e1;
        --color-firework-1: #ffb6c1; /* Pink */
        --color-firework-2: #ffffe0; /* Light yellow */
        --color-firework-3: #e6e6fa; /* Lavender */
        --color-firework-4: #ff0000; /* Red */
        --color-firework-5: #00b7eb; /* Blue */
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Lora", serif;
        background: linear-gradient(
          180deg,
          var(--color-background) 0%,
          var(--color-accent) 100%
        );
        color: var(--color-secondary);
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100dvh;
        position: relative;
      }

      body::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.3) 2px,
          transparent 2px
        );
        background-size: 25px 25px;
        opacity: 0.4;
        z-index: 0;
        animation: subtlePulse 10s ease-in-out infinite;
      }

      @keyframes subtlePulse {
        0%, 100% { opacity: 0.4; }
        50% { opacity: 0.6; }
      }

      canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        pointer-events: none;
      }

      .page {
        width: 100%;
        min-height: 100dvh;
        display: flex;
        justify-content: center;
        align-items: center;
        position: absolute;
        top: 0;
        left: 0;
        transition: opacity 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55),
          transform 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        z-index: 2;
      }

      .hidden { display: none !important; }

      #page-welcome { z-index: 10; }

      .title-box {
        background: rgba(255, 255, 255, 0.95);
        padding: clamp(30px, 6vw, 50px);
        border-radius: 20px;
        box-shadow: 0 15px 60px rgba(0, 0, 0, 0.3),
          inset 0 0 10px rgba(255, 255, 255, 0.2);
        text-align: center;
        max-width: 600px;
        width: 90%;
        position: relative;
        border: 2px solid var(--color-primary);
        animation: fadeInBloom 1.8s ease-out, cardGlow 3s ease-in-out infinite;
      }

      @keyframes fadeInBloom {
        from { opacity: 0; transform: scale(0.7) rotate(2deg); }
        to { opacity: 1; transform: scale(1) rotate(0deg); }
      }

      @keyframes cardGlow {
        0%, 100% { box-shadow: 0 15px 60px rgba(0, 0, 0, 0.3), inset 0 0 10px rgba(255, 255, 255, 0.2); }
        50% { box-shadow: 0 20px 80px rgba(0, 0, 0, 0.4), inset 0 0 15px rgba(255, 255, 255, 0.4); }
      }

      h1 {
        font-family: "Dancing Script", cursive;
        color: var(--color-primary);
        font-size: clamp(2.5em, 7vw, 4em);
        margin-bottom: 10px;
        text-shadow: 0 2px 10px rgba(255, 111, 145, 0.5);
        animation: glowText 2.5s ease-in-out infinite alternate;
      }

      @keyframes glowText {
        from { text-shadow: 0 2px 10px rgba(255, 111, 145, 0.5); }
        to { text-shadow: 0 4px 20px rgba(216, 191, 216, 0.7); }
      }

      p.subtitle {
        font-size: clamp(1em, 3vw, 1.3em);
        margin-bottom: 25px;
        color: var(--color-secondary);
        animation: fadeIn 2s ease-out;
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .btn {
        background: linear-gradient(45deg, var(--color-secondary), var(--color-primary));
        color: white;
        border: none;
        padding: 12px 35px;
        border-radius: 50px;
        font-size: clamp(1em, 2.5vw, 1.2em);
        font-family: "Lora", serif;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 6px 20px rgba(74, 112, 67, 0.5);
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        transition: left 0.5s ease;
      }

      .btn:hover::before { left: 100%; }
      .btn:hover {
        transform: scale(1.1) translateY(-3px);
        box-shadow: 0 10px 25px rgba(216, 191, 216, 0.7);
      }
      .btn:focus {
        outline: 2px solid var(--color-primary);
        outline-offset: 3px;
      }
      .btn:active { transform: scale(0.95); }

      #page-message {
        z-index: 5;
        background: rgba(255, 255, 255, 0.95);
        padding: clamp(25px, 5vw, 45px);
        max-width: 700px;
        width: 90%;
        height: 85%;
        border-radius: 20px;
        box-shadow: 0 15px 60px rgba(0, 0, 0, 0.3),
          inset 0 0 10px rgba(255, 255, 255, 0.2);
        display: flex;
        flex-direction: column;
        position: relative;
        border: 2px solid var(--color-primary);
        animation: cardGlow 3s ease-in-out infinite;
      }

      .message-header {
        font-family: "Dancing Script", cursive;
        color: var(--color-secondary);
        font-size: clamp(1.8em, 4vw, 2.5em);
        border-bottom: 3px solid var(--color-primary);
        padding-bottom: 12px;
        margin-bottom: 25px;
        text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      #message-content {
        font-size: clamp(0.9em, 2.5vw, 1.1em);
        line-height: 1.9;
        flex-grow: 1;
        overflow-y: auto;
        padding-right: 15px;
        white-space: pre-wrap;
        color: var(--color-secondary);
        animation: fadeIn 1.5s ease-out;
      }

      #message-content:hover {
        background: rgba(216, 191, 216, 0.1);
        border-radius: 10px;
        padding: 10px;
        transition: background-color 0.5s ease;
      }

      #message-signature {
        margin-top: 25px;
        text-align: right;
        font-family: "Dancing Script", cursive;
        font-size: clamp(1em, 3vw, 1.3em);
        color: var(--color-primary);
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      }

      @media (max-width: 600px) {
        .title-box { padding: 20px 30px; }
        .btn { padding: 10px 25px; font-size: 1em; }
        #page-message { padding: 20px; height: 90%; }
        h1 { font-size: clamp(2em, 6vw, 3em); }
      }
    </style>
    <script>
      const config = {
        message: `
To ĐNT (aka Định and Trang),

On this vibrant Vietnam Women’s Day, October 20th, I celebrate you as a resilient blossom, thriving with photosynthetic vigor under life’s radiant sun. Never cease believing in your adaptive potential, for you possess the evolutionary strength to cultivate extraordinary achievements. May you always radiate energy, continue to bloom brilliantly, and advance steadfastly along your chosen ecological path. Trust in your unique genotype—go forth and flourish!

Thrive always,
Your (as you call)s.
`,
        signature: 'Happy Women\'s Day'
      };

      class FireworkManager {
        constructor(maxFireworks = 4) {
          this.maxFireworks = maxFireworks;
          this.fireworks = [];
          this.colors = [
            '#ffb6c1', // Pink
            '#ffffe0', // Light yellow
            '#e6e6fa', // Lavender
            '#ff0000', // Red
            '#00b7eb'  // Blue
          ];
          this.canvas = document.createElement('canvas');
          this.ctx = this.canvas.getContext('2d');
          document.body.appendChild(this.canvas);
          this.resizeCanvas();
          window.addEventListener('resize', () => this.resizeCanvas());
          this.animateFireworks();
        }

        resizeCanvas() {
          this.canvas.width = window.innerWidth;
          this.canvas.height = window.innerHeight;
        }

        createFirework() {
          const x = Math.random() * this.canvas.width;
          const y = this.canvas.height;
          const targetY = Math.random() * this.canvas.height * 0.6 + this.canvas.height * 0.2;
          const particles = Math.floor(Math.random() * 5 + 10); // 10-15 particles
          const color = this.colors[Math.floor(Math.random() * this.colors.length)];
          return {
            x, y,
            targetY,
            particles: Array(particles).fill().map(() => ({
              x: 0,
              y: 0,
              angle: Math.random() * Math.PI * 2,
              speed: Math.random() * 3 + 2, // 2-5px/frame
              size: Math.random() * 3 + 3, // 3-6px
              alpha: 1
            })),
            color,
            phase: 'launch', // launch -> explode -> fade
            launchTime: 1000, // 1s to reach target
            explodeTime: Math.random() * 1000 + 1000, // 1-2s explosion
            currentTime: 0
          };
        }

        animateFireworks() {
          const animate = () => {
            const max = window.innerWidth <= 600 ? 3 : this.maxFireworks;
            if (this.fireworks.length < max && Math.random() < 0.02) {
              this.fireworks.push(this.createFirework());
            }
            this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
            this.fireworks = this.fireworks.filter(firework => {
              firework.currentTime += 16; // Approx 60fps
              if (firework.phase === 'launch') {
                const progress = firework.currentTime / firework.launchTime;
                firework.y = this.canvas.height - (this.canvas.height - firework.targetY) * progress;
                if (firework.currentTime >= firework.launchTime) {
                  firework.phase = 'explode';
                  firework.currentTime = 0;
                  firework.particles.forEach(p => {
                    p.x = firework.x;
                    p.y = firework.targetY;
                  });
                }
              } else if (firework.phase === 'explode') {
                const progress = firework.currentTime / firework.explodeTime;
                firework.particles.forEach(p => {
                  p.x += Math.cos(p.angle) * p.speed;
                  p.y += Math.sin(p.angle) * p.speed + 0.05; // Gravity effect
                  p.alpha = 1 - progress;
                });
                if (firework.currentTime >= firework.explodeTime) {
                  return false; // Remove firework
                }
              }
              this.ctx.beginPath();
              if (firework.phase === 'launch') {
                this.ctx.fillStyle = firework.color;
                this.ctx.arc(firework.x, firework.y, 3, 0, Math.PI * 2);
                this.ctx.fill();
              } else {
                firework.particles.forEach(p => {
                  this.ctx.globalAlpha = p.alpha;
                  const gradient = this.ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size);
                  gradient.addColorStop(0, firework.color);
                  gradient.addColorStop(1, 'transparent');
                  this.ctx.fillStyle = gradient;
                  this.ctx.beginPath();
                  this.ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                  this.ctx.fill();
                });
                this.ctx.globalAlpha = 1;
              }
              return true;
            });
            requestAnimationFrame(animate);
          };
          setTimeout(animate, 1500);
        }
      }

      class PageManager {
        constructor() {
          this.welcomePage = document.getElementById("page-welcome");
          this.messagePage = document.getElementById("page-message");
          this.viewMessageBtn = document.getElementById("view-message-btn");
          this.backBtn = document.getElementById("back-btn");
          this.messageContent = document.getElementById("message-content");
          this.messageSignature = document.getElementById("message-signature");
          this.init();
        }

        init() {
          this.messageContent.textContent = config.message.trim();
          this.messageSignature.textContent = config.signature;
          this.bindEvents();
        }

        bindEvents() {
          this.viewMessageBtn.addEventListener("click", () => this.showMessagePage());
          this.backBtn.addEventListener("click", () => this.showWelcomePage());
          this.viewMessageBtn.addEventListener("keypress", (e) => {
            if (e.key === "Enter") this.showMessagePage();
          });
          this.backBtn.addEventListener("keypress", (e) => {
            if (e.key === "Enter") this.showWelcomePage();
          });
        }

        showMessagePage() {
          this.welcomePage.style.opacity = "0";
          this.welcomePage.style.transform = "scale(0.8)";
          this.messagePage.style.transform = "scale(1.2)";
          this.messagePage.classList.remove("hidden");
          setTimeout(() => {
            this.messagePage.style.transform = "scale(1)";
          }, 100);
          setTimeout(() => {
            this.welcomePage.classList.add("hidden");
          }, 1200);
        }

        showWelcomePage() {
          this.messagePage.style.opacity = "0";
          this.messagePage.style.transform = "scale(1.2)";
          this.welcomePage.style.transform = "scale(0.8)";
          this.welcomePage.classList.remove("hidden");
          setTimeout(() => {
            this.welcomePage.style.transform = "scale(1)";
            this.welcomePage.style.opacity = "1";
          }, 100);
          setTimeout(() => {
            this.messagePage.classList.add("hidden");
          }, 1200);
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        new FireworkManager();
        new PageManager();
      });
    </script>
  </head>
  <body>
    <main id="page-welcome" class="page" role="main" aria-label="Women's Day Welcome Page">
      <div class="title-box">
        <h1>Happy Women's Day</h1>
        <p class="subtitle">October 20th - To Precious Sister</p>
        <button id="view-message-btn" class="btn" aria-label="View personal message">
          Unveil Your Message
        </button>
      </div>
    </main>
    <main id="page-message" class="page hidden" role="main" aria-label="Personal Message Page">
      <h2 class="message-header">A Heartfelt Letter to you</h2>
      <div id="message-content"></div>
      <div id="message-signature"></div>
      <button id="back-btn" class="btn" aria-label="Return to welcome page">
        Return to Welcome
      </button>
    </main>
  </body>
</html>

